/* message line */
.msg {
    font-family: Consolas, "Courier New", monospace;
    font-size: 12px;
    color: #d8d8d8;
    display: grid;
    grid-template-columns: auto 1fr;
    column-gap: 6px;
    line-height: 1.45;
}

.text-line {
    display: block;
    white-space: normal;
    word-break: break-word;
}

.prompt {
    white-space: pre;
    color: #bfc9d9;
    opacity: 0.95;
    align-self: start;
}

.msg.user .prompt {
    color: #00ff00;
}

.msg.assistant .prompt {
    color: #8aa7ff;
}

.msg-text {
  white-space: normal;   /* ← КРИТИЧНО */
  word-break: break-word;
  line-height: 1.45;
}

/* markdown inline */
.msg-text p {
    margin: 0;
}



.msg-text p:empty,
.msg-text p>br:only-child {
    display: none;
}

/* lists */
.msg-text ul,
.msg-text ol {
    display: flex;
    flex-direction: column;
    list-style-position: inside;
    margin: 4px 0 0;
    padding: 0;
}

.msg-text li {
    margin: 0;
    padding: 0;
}

/* code */
.msg-text pre {
    /* display: block;
    margin: 6px 0 0;
    padding: 4px 6px; */
    background: #0d0d0d;
    /* border: 1px solid #333; */
    /* color: #9fdcff; */
    overflow: auto;
    /* white-space: pre; */
      /* max-width: 100%;
  box-sizing: border-box; */
}

.msg-text code {
    background: #111;
    border: 1px solid #333;
    padding: 0 2px;
}

.msg-text pre,
.msg-text code {
  white-space: pre-wrap;
}

/* links / hr */
.msg-text a {
    color: #8aa7ff;
    text-decoration: underline;
}

.msg-text hr {
    border: none;
    border-top: 1px solid #888;
    border-bottom: 1px solid #222;

}

/* typing effect */
.msg.assistant[data-status="in_progress"] .msg-text {
    opacity: 0.75;
}
.caret {
  display: inline-block;
  margin-left: 4px;
  animation: block-spin 1s steps(4) infinite;
  opacity: 1;
  vertical-align: baseline;
}
.msg.assistant[data-status="in_progress"]
.msg-text p:last-child::after {
  content: "■";
  display: inline-block;
  margin-left: 4px;
  animation: block-spin 1s steps(4) infinite;
  vertical-align: baseline;
}